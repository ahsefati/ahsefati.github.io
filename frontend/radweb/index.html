<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.css" />
    <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="https://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

    <!-- MAP -->
    <script src="https://cdn.amcharts.com/lib/4/core.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/maps.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/geodata/worldLow.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/themes/dark.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/themes/animated.js"></script>


</head>

<body>
    <div data-role="page" id="wizard">
        <div data-role="header" data-tap-toggle="false" data-position="fixed">
            <h1 class="w3-hide-small">Iran Telecommunication Research Center | <a>About us</a></h1>
            <h1 class="w3-hide-large w3-hide-medium">ITRC | <a>About</a></h1>
        </div>
        <div role="main" class="ui-content">
            <div class="progress">
                <p>1</p>
                <div class="line"></div>
                <p>2</p>
                <div class="line"></div>
                <p>3</p>
                <div class="line"></div>
                <p>4</p>
                <div class="line"></div>
                <p>5</p>
                <div class="line"></div>
                <p>6</p>
                <div class="line"></div>
                <p>7</p>
                <div class="line"></div>
                <p>8</p>
            </div>
            <div class="steps">
                <!-- STEP 1 -->
                <div class="step">
                    <div class="ui-body ui-body-a ui-corner-all">

                        <h3>Step 1 - Choose Wizard Type:</h3>

                        <input id="optimization-checkbox" type="checkbox"><button class="w3-btn w3-green" onclick="checkWizardType('optimization')">Optimization</button>
                        <input id="analysis-checkbox" type="checkbox"><button class="w3-btn w3-purple" onclick="checkWizardType('analysis')">Analysis</button>
                        <input id="horn-checkbox" type="checkbox"><button class="w3-btn w3-blue" onclick="checkWizardType('horn')">Horn Design</button>
                        <script>
                            function checkWizardType(input) {
                                document.getElementById('optimization-checkbox').checked = false
                                document.getElementById('analysis-checkbox').checked = false
                                document.getElementById('horn-checkbox').checked = false

                                document.getElementById(input + '-checkbox').checked = true
                            }
                        </script>
                    </div>
                </div>
                <!-- STEP 2 -->
                <div class="step">
                    <div class="ui-body ui-body-a ui-corner-all">
                        <div id="analysisSelected">
                            <h3>Step 2: Reflector Type Selction</h3>
                            <p>Reflector System:</p>
                            <select runat="server" id="analysisReflectorTypeSelected">
                                <option runat="server" value="single">Single Reflector</option>
                                <option runat="server" value="dual">Dual Reflector</option>
                            </select>
                            <hr>
                            <p>Beam System:</p>
                            <select runat="server" id="">
                                <option value="NON_SHAPED">Non-Shaped Beam Reflector</option>
                                <option value="SHAPED" disabled>Shaped Beam Reflector</option>
                            </select>
                            <p>Feed System:</p>
                            <select>
                                <option>Single Feed</option>
                                <option disabled>Multi Feed</option>
                                <option disabled>Multi Feed Cosecant</option>
                            </select>
                        </div>

                        <div id="optimizationSelected">
                            <h3>Step 2: Reflector Type Selction</h3>
                            <p>Reflector System:</p>
                            <select runat="server" id="optimizationReflectorSelected" onchange="changeOptimizationReflector()">
                                <option runat="server" value="optimizationSingle">Single Reflector</option>
                                <option runat="server" value="optimizationDual">Dual Reflector</option>
                            </select>
                            <script>
                                function changeOptimizationReflector() {
                                    if (document.getElementById("optimizationReflectorSelected").value == "optimizationDual") {
                                        document.getElementById("optimizationMultiFeed").disabled = true
                                        document.getElementById("optimizationMultiFeedCosecant").disabled = true
                                        document.getElementById("optimizationNonSatteliteApplications").disabled = true
                                    } else {
                                        document.getElementById("optimizationMultiFeed").disabled = false
                                        document.getElementById("optimizationMultiFeedCosecant").disabled = false
                                        document.getElementById("optimizationNonSatteliteApplications").disabled = false
                                    }
                                }
                            </script>
                            <hr>
                            <p>Beam System:</p>
                            <select runat="server" id="optimizationBeamSelected">
                                <option runat="server" value="optimizationShapedBeamReflector" id="optimizationShapedBeamReflector">Shaped Beam Reflector</option>
                                <option runat="server" disabled id="optimizationNonShapedBeamReflector">Non-Shaped Beam Reflector</option>
                            </select>
                            <hr>
                            <p>Feed System:</p>
                            <select runat="server" id="optimizationFeedSelected" onclick="changeOptimizationFeedSelect()">
                                <option runat="server" value="optimizationSingleFeed" id="optimizationSingleFeed">Single Feed</option>
                                <option runat="server" value="optimizationMultiFeed" id="optimizationMultiFeed">Multi Feed</option>
                                <option runat="server" value="optimizationMultiFeedCosecant" id="optimizationMultiFeedCosecant">Multi Feed Cosecant</option>
                            </select>
                            <script>
                                function changeOptimizationFeedSelect() {
                                    if (document.getElementById("optimizationFeedSelected").value == "optimizationMultiFeedCosecant") {
                                        document.getElementById("optimizationNonSatteliteApplications").selected = "true"
                                        document.getElementById("optimizationSatteliteApplications").disabled = true
                                        document.getElementById("optimizationUsageSelected").value = "optimizationNonSatteliteApplications"
                                    }
                                }
                            </script>
                            <hr>
                            <p>Usage</p>
                            <select runat="server" id="optimizationUsageSelected">
                                <option runat="server" selected value="optimizationSatteliteApplications" id="optimizationSatteliteApplications">Sattelite Applications</option>
                                <option runat="server" value="optimizationNonSatteliteApplications" id="optimizationNonSatteliteApplications">Non-Sattelite Applications</option>
                            </select>

                        </div>

                    </div>
                </div>
                <!-- STEP 3 -->
                <div class="step">
                    <div class="ui-body ui-body-a ui-corner-all">
                        <div id="analysisSelected-2-1AndoptimizaionSelected-1-2-1-1">
                            <h3>Step 3: Single Reflector Design</h3>

                            <select runat="server" id="singleReflectorScale" onchange="changeScale1()">
                                <option runat="server" value="wavelength_select1">Wavelength</option>
                                <option runat="server" value="frequency_select1">Frequency</option>
                            </select>
                            <input runat="server" id="Wavelength_Optimization">
                            <div id="wavelength_select1">
                                <select runat="server" id="wavelength_select1_">
                                    <option runat="server">m</option>
                                    <option runat="server">cm</option>
                                    <option runat="server">mm</option>
                                </select>
                            </div>
                            <div id="frequency_select1" style="display: none;">
                                <select runat="server" id="frequency_select1_">
                                    <option runat="server">Hz</option>
                                    <option runat="server">KHz</option>
                                    <option runat="server">MHz</option>
                                    <option runat="server">GHz</option>
                                </select>
                            </div>
                            <script>
                                function changeScale1() {
                                    var selectedValueScale = document.getElementById("singleReflectorScale").value
                                    document.getElementById("wavelength_select1").style.display = "none"
                                    document.getElementById("frequency_select1").style.display = "none"

                                    document.getElementById(selectedValueScale).style.display = "block"

                                }
                            </script>


                            <hr>

                            <p>Define Reflector By: </p>
                            <select id="defReflectorBy_select" onchange="changeDefRefBy()">
                                <option value="parameters_section">Parameters</option>
                                <option value="stlfile_section">STL file</option>
                            </select>
                            <script>
                                function changeDefRefBy() {
                                    var selectedValueScale = document.getElementById("defReflectorBy_select").value
                                    document.getElementById("parameters_section").style.display = "none"
                                    document.getElementById("stlfile_section").style.display = "none"

                                    document.getElementById(selectedValueScale).style.display = "block"
                                }
                            </script>
                            <hr>
                            <div id="parameters_section">
                                <p>Reflector Diameter</p>
                                <input runat="server" id="Reflector_Diameter">
                                <select runat="server" id="Reflector_Diameter_Scale">
                                    <option runat="server" value="m">m</option>
                                    <option runat="server" value="cm">cm</option>
                                    <option runat="server" value="mm">mm</option>
                                </select>
                                <p>Focal Length</p>
                                <input runat="server" id="Focal_Length">
                                <select runat="server" id="Focal_Length_Scale">
                                    <option runat="server" value="m">m</option>
                                    <option runat="server" value="cm">cm</option>
                                    <option runat="server" value="mm">mm</option>
                                </select>
                                <p>Reflector Offset</p>
                                <input runat="server" id="Reflector_Offset">
                                <select runat="server" id="Reflector_Offset_Scale">
                                    <option runat="server" value="m">m</option>
                                    <option runat="server" value="cm">cm</option>
                                    <option runat="server" value="mm">mm</option>
                                </select>
                            </div>
                            <div id="stlfile_section" style="display: none;">
                                <hr>
                                <p>Upload STL file (optional):</p>
                                <input type="file">
                            </div>
                        </div>

                        <div id="analysisSelected-2-1AndoptimizaionSelected-1-2-2-1">

                        </div>

                        <div id="analysisSelected-2-2">
                            <h3>Step 3: Dual Reflector Design</h3>

                            <select id="dualReflectorScale" onchange="changeScale()">
                                <option value="wavelength_select">Wavelength</option>
                                <option value="frequency_select">Frequency</option>
                            </select>
                            <input>
                            <div id="wavelength_select">
                                <select>
                                    <option>m</option>
                                    <option>cm</option>
                                    <option>mm</option>
                                </select>
                            </div>
                            <div id="frequency_select" style="display: none;">
                                <select>
                                    <option>Hz</option>
                                    <option>KHz</option>
                                    <option>MHz</option>
                                    <option>GHz</option>
                                </select>
                            </div>
                            <script>
                                function changeScale() {
                                    var selectedValueScale = document.getElementById("dualReflectorScale").value
                                    document.getElementById("wavelength_select").style.display = "none"
                                    document.getElementById("frequency_select").style.display = "none"

                                    document.getElementById(selectedValueScale).style.display = "block"

                                }
                            </script>

                            <hr>

                            <p>Main Reflector:</p>
                            <input>
                            <select>
                                <option>m</option>
                                <option>cm</option>
                                <option>mm</option>
                            </select>
                            <p>Focal Length:</p>
                            <input>
                            <select>
                                <option>m</option>
                                <option>cm</option>
                                <option>mm</option>
                            </select>
                            <p>Angle between main:</p>
                            <input>
                            <select>
                                <option>deg</option>
                                <option>rad</option>
                            </select>
                            <p>Distance between:</p>
                            <input>
                            <select>
                                <option>m</option>
                                <option>cm</option>
                                <option>mm</option>
                            </select>
                            <p>Subreflector:</p>
                            <input>
                        </div>

                    </div>
                </div>
                <div class="step">
                    <!-- STEP 4 -->
                    <div class="ui-body ui-body-a ui-corner-all">
                        <div id="analysisSelected-2-1and2-1">
                            <h3>Cut Form</h3>
                            <p><b>Theta</b> From: </p>
                            <input>
                            <p>To: </p>
                            <input>
                            <select>
                                <option>deg</option>
                                <option>rad</option>
                            </select>
                            <p>Number of Points: </p>
                            <input>
                            <hr>
                            <p><b>Phi</b> From: </p>
                            <input>
                            <p>To: </p>
                            <input>
                            <select>
                                <option>deg</option>
                                <option>rad</option>
                            </select>
                            <p>Number of Points: </p>
                            <input>
                        </div>
                        <div id="optimizationSelected-1-2-1-1">
                            <h4>Distortion Type: </h4>
                            <select runat="server" id="optimizationDistortionSelected" onchange="changeOptimizationDistortionSelected()">
                                <option runat="server" value="optimizationNoDistortion">No Distortion</option>
                                <option runat="server" value="optimizationSplineDistortion" selected>Spline</option>
                                <option runat="server" value="optimizationZernikDistortion" >Zernik</option>
                            </select>

                            <script>
                                function changeOptimizationDistortionSelected() {
                                    if (document.getElementById("optimizationDistortionSelected").value == "optimizationNoDistortion") {
                                        document.getElementById("Spline").style.display = "none"
                                        document.getElementById("Zernik").style.display = "none"
                                    } else if (document.getElementById("optimizationDistortionSelected").value == "optimizationSplineDistortion") {
                                        document.getElementById("Spline").style.display = "block"
                                        document.getElementById("Zernik").style.display = "none"
                                    } else if (document.getElementById("optimizationDistortionSelected").value == "optimizationZernikDistortion") {
                                        document.getElementById("Spline").style.display = "none"
                                        document.getElementById("Zernik").style.display = "block"
                                    }
                                }
                            </script>

                            <div id="Spline">
                                <h4>Spline parameters</h4>
                                <p>NX</p>
                                <input runat="server" id="Spl_NX">
                                <p>NY</p>
                                <input runat="server" id="Spl_NY">
                            </div>

                            <div id="Zernik" hidden>
                                <h4>Zernik parameters</h4>
                                <p>m for Cnm,Dnm</p>
                                <input runat="server" id="Zernik_Max_N">
                                <p>n for Cnm,Dnm</p>
                                <input runat="server" id="Zernik_Max_M">
                            </div>

                        </div>
                    </div>
                </div>
                <!-- Step 5 -->
                <div class="step">
                    <div class="ui-body ui-body-a ui-corner-all">
                        <div id="analysisSelected-2-1and2-1-1">
                            <h3>Feed Setting</h3>
                            <p>Feed Model:</p>
                            <select runat="server" id="feedModelSetting" onchange="changeFeedModelSetting()">
                                <option runat="server" value="Gaussian">Gaussian</option>
                                <option runat="server" value="CosQ">CosQ</option>
                                <option runat="server" value="FileDefined">File Defined</option>
                            </select>
                            <script>
                                function changeFeedModelSetting() {
                                    var selectedValueScale = document.getElementById("feedModelSetting").value
                                    document.getElementById("Gaussian").style.display = "none"
                                    document.getElementById("CosQ").style.display = "none"
                                    document.getElementById("FileDefined").style.display = "none"

                                    document.getElementById(selectedValueScale).style.display = "block"
                                }
                            </script>
                            <hr>
                            <p>Polarization:</p>
                            <select>
                                <option>X pole</option>
                                <option>Y pole</option>
                            </select>
                            <hr>
                            <div id="Gaussian">
                                <p>Edge Taper:</p>
                                <input runat="server" id="analysisSelectedEdgeTaper">
                            </div>
                            <hr>
                            <div id="CosQ" style="display: none;">
                                <p>Q Factor:</p>
                                <input runat="server" id="analysisSelectedQFactor">
                            </div>
                            <hr>
                            <div id="FileDefined" style="display: none;">
                                <p>User Defined File:</p>
                                <input runat="server" type="file">
                            </div>
                        </div>

                        <div id="optimization_map">
                            <div id="chartdiv"></div>
                        </div>

                    </div>
                </div>
                <!-- STEP 6 -->
                <div class="step">
                    <div class="ui-body ui-body-a ui-corner-all">
                        <div id="optimizationSelected_1211">
                            <h3>Feed Setting</h3>
                            <p>Feed Model:</p>
                            <select id="feedModelSetting_opt" onchange="changeFeedModelSetting_opt()">
                                <option value="Gaussian_opt">Gaussian</option>
                                <option value="CosQ_opt">CosQ</option>
                                <option value="FileDefined_opt">File Defined</option>
                            </select>
                            <script>
                                function changeFeedModelSetting_opt() {
                                    var selectedValueScale = document.getElementById("feedModelSetting_opt").value
                                    document.getElementById("Gaussian_opt").style.display = "none"
                                    document.getElementById("CosQ_opt").style.display = "none"
                                    document.getElementById("FileDefined_opt").style.display = "none"

                                    document.getElementById(selectedValueScale).style.display = "block"
                                }
                            </script>
                            <hr>
                            <p>Polarization:</p>
                            <select runat="server" id="polarization_type">
                                <option runat="server" value="X_Pole">X pole</option>
                                <option runat="server" value="Y_Pole">Y pole</option>
                            </select>
                            <hr>
                            <div id="Gaussian_opt">
                                <p>Edge Taper:</p>
                                <input runat="server" id="optSelectedEdgeTaper">
                            </div>
                            <hr>
                            <div id="CosQ_opt" style="display: none;">
                                <p>Q Factor:</p>
                                <input runat="server" id="optSelectedQFactor">
                            </div>
                            <hr>
                            <div id="FileDefined_opt" style="display: none;">
                                <p>User Defined File:</p>
                                <input type="file">
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Step 7 -->
                <div class="step">
                    <div class="ui-body ui-body-a ui-corner-all">
                        <div id="optimizationSelected">
                            <h3>Optimization Method</h3>
                            <p>Method Selection:</p>
                            <select id="methodSelect_opt">
                                <option disabled>Fast Method</option>
                                <option selected>Fminmax</option>
                                <option disabled>Dynamic Genetic</option>
                            </select>
                            <input type="number" runat="server" id="iterateSelect_opt" min="0" max="20" placeholder="10" value="10">
                        </div>
                    </div>
                </div>
                <!-- LAST STEP (STEP 8) -->
                <div class="step">
                    <div id="hornDesignSelected">
                        <h3>Last Step: Horn Design Form</h3>
                        <div class="w3-full">
                            <p>Min Frequency: </p>
                            <input>
                            <select>
                            <option>Hz</option>
                            <option>KHz</option>
                            <option>MHz</option>
                            <option>GHz</option>
                        </select>
                        </div>
                        <hr>
                        <div class="w3-full">
                            <p>Max Frequency: </p>
                            <input>
                            <select>
                            <option>Hz</option>
                            <option>KHz</option>
                            <option>MHz</option>
                            <option>GHz</option>
                        </select>
                        </div>
                        <hr>
                        <div class="w3-full">
                            <p>Edge Tapper: </p>
                            <select>
                            <option>12</option>
                            <option>13</option>
                            <option>14</option>
                            <option>15</option>
                            <option>16</option>
                            <option>17</option>
                            <option>18</option>
                        </select>
                        </div>
                        <hr>
                        <div class="w3-full">
                            <p>Profile: </p>
                            <select>
                            <option>Linear</option>
                            <option>Sinusiod</option>
                            <option>Hyperbolic</option>
                        </select>
                        </div>
                        <hr>
                        <div class="w3-full">
                            <p>Hald Cone Angle (degree): </p>
                            <input>
                        </div>
                    </div>
                    <div id="analysisDesignSelected">
                        <h3>Analysis Method Selection</h3>
                        <p>Methods: </p>
                        <select>
                            <option>PO</option>
                            <option disabled>PO + PTD</option>
                            <option disabled>MOM</option>
                            <option disabled>PO + MOM</option>
                        </select>
                    </div>
                    <div id="optimizationMethodSelected">
                        <h3>Optimization Method Selection</h3>
                        <p>Methods: </p>
                        <select>
                            <option>PO</option>
                            <option disabled>PO + PTD</option>
                            <option disabled>MOM</option>
                            <option disabled>PO + MOM</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        <div data-role="footer" data-tap-toggle="false" data-position="fixed">
            <div class="w3-row w3-border">
                <div id="prev" class="w3-container w3-half">
                    <button class="w3-btn w3-red" onclick="goto('p')">Prev</button>
                </div>
                <div id="next" class="w3-container w3-half">
                    <button id="nextBtn" class="w3-btn w3-green" onclick="goto('n')">Next</button>
                </div>
            </div>

        </div>
    </div>
</body>

</html>

<!-- Chart code -->
<script>
    am4core.ready(function() {

        // Themes begin
        am4core.useTheme(am4themes_dark);
        am4core.useTheme(am4themes_animated);
        // Themes end

        // Create map instance
        var chart = am4core.create("chartdiv", am4maps.MapChart);

        // Set map definition
        chart.geodata = am4geodata_worldLow;

        // Set projection
        chart.projection = new am4maps.projections.NaturalEarth1();

        // Create map polygon series
        var polygonSeries = chart.series.push(new am4maps.MapPolygonSeries());
        polygonSeries.mapPolygons.template.strokeWidth = 0.5;

        // Exclude Antartica
        polygonSeries.exclude = ["AQ"];

        // Make map load polygon (like country names) data from GeoJSON
        polygonSeries.useGeodata = true;

        // Configure series
        var polygonTemplate = polygonSeries.mapPolygons.template;
        polygonTemplate.tooltipText = "{name}";
        polygonTemplate.fill = chart.colors.getIndex(0);

        // Create hover state and set alternative fill color
        var hs = polygonTemplate.states.create("hover");
        hs.properties.fill = chart.colors.getIndex(2);

        // Create active state
        var activeState = polygonTemplate.states.create("active");
        activeState.properties.fill = chart.colors.getIndex(4);

        // Create an event to toggle "active" state
        polygonTemplate.events.on("hit", function(ev) {
            ev.target.isActive = !ev.target.isActive;
        })


        var graticuleSeries = chart.series.push(new am4maps.GraticuleSeries());

    }); // end am4core.ready()
</script>

<style>
    #chartdiv {
        width: 100%;
        height: 500px;
    }
    
    .ui-page .ui-content {
        padding: 0;
    }
    
    .ui-content * {
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
    }
    
    .ui-content .progress {
        display: flex;
        display: -webkit-flex;
        flex-flow: row nowrap;
        -webkit-flex-flow: row nowrap;
        justify-content: space-around;
        -webkit-justify-content: space-around;
        width: 100%;
        background: skyblue;
        align-items: center;
        padding: .5em;
    }
    
    .ui-content .progress * {
        margin: 0;
    }
    
    .ui-content .progress p {
        background: lightblue;
        height: 22px;
        width: 22px;
        border-radius: 22px;
        text-align: center;
    }
    
    .ui-content .progress .line {
        border-top: 1px solid black;
        -webkit-flex-grow: 1;
        flex-grow: 1;
        -webkit-align-self: auto;
        -ms-flex-item-align: auto;
        align-self: auto;
    }
    /* steps */
    
    .ui-content .steps {
        padding: 1em;
        width: 100%;
        height: 100%;
        overflow: hidden;
    }
    
    .progress .currentStep {
        background: rgb(29, 197, 7) !important;
        font-weight: bold;
    }
</style>

<script>
    currentStep = 0
    totalSteps = 8

    $(document).on("pagecreate", "#wizard", function() {
        $(".step").not(":eq(0)").addClass("ui-screen-hidden");
        $(".step:eq(0)").addClass("active");
        $(".progress p:eq(0)").addClass("currentStep");
        $(".ui-content").on("swipeleft swiperight", function(e) {
            var swipe = e.type,
                nextStep = $(".steps").find(".active").next(".step"),
                prevStep = $(".steps").find(".active").prev(".step");

            switch (true) {
                case (swipe == "swipeleft" && nextStep.length > 0):
                    $(".step.active")
                        .toggleClass("slide out");
                    currentStep++
                    break;
                case (swipe == "swiperight" && prevStep.length > 0):
                    $(".step.active")
                        .toggleClass("slide out reverse");
                    currentStep--
                    break;
            }
        });
    }).on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend", ".step", function(e) {
        var elm = $(e.target);
        switch (true) {
            case (elm.hasClass("out") && !elm.hasClass("reverse")):
                $(elm).toggleClass("slide out ui-screen-hidden active");
                $(elm).next(".step").toggleClass("slide in active ui-screen-hidden");
                break;
            case (elm.hasClass("out") && elm.hasClass("reverse")):
                $(elm).toggleClass("slide out ui-screen-hidden reverse active");
                $(elm).prev(".step").toggleClass("slide in active reverse ui-screen-hidden");
                break;
            case (elm.hasClass("in") && !elm.hasClass("reverse")):
                elm.toggleClass("slide in");
                break;
            case (elm.hasClass("in") && elm.hasClass("reverse")):
                elm.toggleClass("slide in reverse");
                break;
        }
        var dot = $(".active").index();
        $("p:eq(" + dot + ")").prevAll("p").addBack().addClass("currentStep");
        $("p:eq(" + dot + ")").nextAll("p").removeClass("currentStep");
    });
    status = 0;

    function goto(operation) {

        for (var i = 0; i < totalSteps; i++) {
            $(".step").not(":eq(" + i + ")").addClass("ui-screen-hidden");
            $(".step:eq(" + i + ")").removeClass("active");
        }

        if (operation == 'p') {
            $(".progress p:eq(" + currentStep + ")").removeClass("currentStep");
            currentStep--
        } else {
            currentStep++
        }
        if (currentStep < 0) {
            currentStep = 0
        }
        if (currentStep > 7) {
            currentStep = 7
        }

        if (document.getElementById('horn-checkbox').checked) {
            document.getElementById("hornDesignSelected").style.display = "block"
            document.getElementById("analysisDesignSelected").style.display = "none"
            currentStep = 7
        }

        if (status == 112117) {
            document.getElementById("hornDesignSelected").style.display = "none"
            document.getElementById("analysisDesignSelected").style.display = "none"
            document.getElementById("optimizationMethodSelected").style.display = "block"
        }

        if (status == 112116) {
            document.getElementById("optimizationSelected_1211").style.display = "block"
            status = 112117
        }

        if (status == 112115) {
            document.getElementById("analysisSelected-2-1and2-1-1").style.display = "none"
            document.getElementById("optimization_map").style.display = "block"
            status = 112116
        }

        if (status == 11211) {
            console.log("STEP 3: Optimization Selected - 1-2-1-1")
            document.getElementById("analysisSelected-2-1and2-1").style.display = "none"
            document.getElementById("optimizationSelected-1-2-1-1").style.display = "block"
            status = 112115
        }



        if (status == 1) {
            var optReflectorSelect = document.getElementById("optimizationReflectorSelected").value
            var optBeamSelect = document.getElementById("optimizationBeamSelected").value
            var optFeedSelect = document.getElementById("optimizationFeedSelected").value
            var optUsageSelect = document.getElementById("optimizationUsageSelected").value

            if (optReflectorSelect == "optimizationSingle" && optBeamSelect == "optimizationShapedBeamReflector" && optFeedSelect == "optimizationSingleFeed" && optUsageSelect == "optimizationSatteliteApplications") {
                status = 11211
                document.getElementById("analysisSelected-2-1AndoptimizaionSelected-1-2-1-1").style.display = "block"
                document.getElementById("analysisSelected-2-1AndoptimizaionSelected-1-2-2-1").style.display = "none"
                document.getElementById("analysisSelected-2-2").style.display = "none"
            }

            if (optReflectorSelect == "optimizationSingle" && optBeamSelect == "optimizationShapedBeamReflector" && optFeedSelect == "optimizationMultiFeed" && optUsageSelect == "optimizationSatteliteApplications") {
                status = 11221
                document.getElementById("analysisSelected-2-1AndoptimizaionSelected-1-2-2-1").style.display = "block"
                document.getElementById("analysisSelected-2-1AndoptimizaionSelected-1-2-1-1").style.display = "none"
                document.getElementById("analysisSelected-2-2").style.display = "none"
            }

            if (optReflectorSelect == "optimizationSingle" && optBeamSelect == "optimizationShapedBeamReflector" && optFeedSelect == "optimizationMultiFeedCosecant" && optUsageSelect == "optimizationNonSatteliteApplications") {
                status = 11232
                document.getElementById("analysisSelected-2-1AndoptimizaionSelected-1-2-2-1").style.display = "block"
                document.getElementById("analysisSelected-2-1AndoptimizaionSelected-1-2-1-1").style.display = "none"
                document.getElementById("analysisSelected-2-2").style.display = "none"
            }

            if (optReflectorSelect == "optimizationDual" && optBeamSelect == "optimizationShapedBeamReflector" && optFeedSelect == "optimizationSingleFeed" && optUsageSelect == "optimizationSatteliteApplications") {
                status = 12211
                document.getElementById("analysisSelected-2-1AndoptimizaionSelected-1-2-2-1").style.display = "block"
                document.getElementById("analysisSelected-2-1AndoptimizaionSelected-1-2-1-1").style.display = "none"
                document.getElementById("analysisSelected-2-2").style.display = "none"
            }

            console.log("SELECTED: " + status)

        }

        if (status == 2111) {
            status = 21111
            console.log("Step5: ANALYSIS checked")
            currentStep = 7
            document.getElementById("hornDesignSelected").style.display = "none"
            document.getElementById("analysisDesignSelected").style.display = "block"
        }

        if (status == 211) {
            status = 2111
            console.log("Step4: ANALYSIS checked")
        }

        if (status == 21) {
            document.getElementById("analysisSelected-2-1and2-1").style.display = "block"
            document.getElementById("optimizationSelected-1-2-1-1").style.display = "none"
            status = 211
            console.log("Step3: ANALYSIS checked")
        }

        if (status == 2) {
            if (document.getElementById("analysisReflectorTypeSelected").value == "single") {
                document.getElementById("analysisSelected-2-1AndoptimizaionSelected-1-2-1-1").style.display = "block"
                document.getElementById("analysisSelected-2-2").style.display = "none"

            }
            if (document.getElementById("analysisReflectorTypeSelected").value == "dual") {
                document.getElementById("analysisSelected-2-1AndoptimizaionSelected-1-2-1-1").style.display = "none"
                document.getElementById("analysisSelected-2-2").style.display = "block"
            }
            console.log("Step2: ANALYSIS checked")
            status = 21
        }



        if (document.getElementById('analysis-checkbox').checked && status == 0) {
            document.getElementById("analysisSelected").style.display = "block"
            document.getElementById("optimizationSelected").style.display = "none"
            console.log("Step1: ANALYSIS checked")
            status = 2
        }



        if (document.getElementById('optimization-checkbox').checked && status == 0) {
            document.getElementById("analysisSelected").style.display = "none"
            document.getElementById("optimizationSelected").style.display = "block"
            console.log("Step1: OPTIMIZATION checked")
            status = 1
        }



        setTimeout(() => {
            $(".step:eq(" + currentStep + ")").removeClass("ui-screen-hidden");
            $(".step:eq(" + currentStep + ")").addClass("active");
            $(".progress p:eq(" + currentStep + ")").addClass("currentStep");
        }, 300);

        if (currentStep == 0) {
            document.getElementById("prev").style.display = "none"
                // document.getElementById("prev").style.display = "none"
            document.getElementById("next").classList.remove("w3-half")
            document.getElementById("next").classList.add("w3-full")
        } else if (currentStep == 7) {
            document.getElementById("nextBtn").innerText = "Run"
            document.getElementById("nextBtn").addEventListener('click', function() {
                if (document.getElementById('optimization-checkbox').checked) {
                    // VARIABLES NEEDED FOR 'RUN' FUNCTION

                    // Modes
                    reflMode = document.getElementById("optimizationReflectorSelected").value //ok
                    beamMode = document.getElementById("optimizationBeamSelected").value //ok
                    feedMode = document.getElementById("optimizationFeedSelected").value //ok
                    usageMode = document.getElementById("optimizationUsageSelected").value //ok


                    // Wave Lenght OR Frequency
                    waveOrFreq = document.getElementById("singleReflectorScale").value //ok
                    waveScale = document.getElementById("wavelength_select1_").value //ok
                    freqScale = document.getElementById("frequency_select1_").value //ok
                    waveLength = document.getElementById("Wavelength_Optimization").value //ok


                    // Reflector Diameter
                    reflectorDiameter = document.getElementById("Reflector_Diameter").value //ok
                    reflectorDiameterScale = document.getElementById("Reflector_Diameter_Scale").value //ok


                    // Focal Length
                    focalLength = document.getElementById("Focal_Length").value //ok
                    focalLengthScale = document.getElementById("Focal_Length_Scale").value //ok


                    // Reflector Offset
                    reflectorOffset = document.getElementById("Reflector_Offset").value //ok
                    reflectorOffsetScale = document.getElementById("Reflector_Offset_Scale").value //ok


                    // Distortion Type
                    distortionType = document.getElementById("optimizationDistortionSelected").value //ok
                    spl_nx = document.getElementById("Spl_NX").value //ok
                    spl_ny = document.getElementById("Spl_NY").value //ok
                    zenrik_max_n = document.getElementById("Zenrik_Max_N").value //ok
                    zenrik_max_m = document.getElementById("Zenrik_Max_M").value //ok

                    // Map
                    country = "IRAN" //Constant Value

                    // Feed Setting
                    feedModel = document.getElementById("feedModelSetting").value //ok
                    polarizationType = document.getElementById("polarization_type").value //ok
                    edgeTapper = document.getElementById("analysisSelectedEdgeTaper").value //ok
                    qFactor = document.getElementById("analysisSelectedQFactor").value //ok

                    // Max Iterations
                    Opt_max_iterations = document.getElementById("iterateSelect_opt").value //ok

                    // Methods
                    methods = "PO"

                } else if (document.getElementById('analysis-checkbox').checked) {

                } else if (document.getElementById('horn-checkbox').checked) {

                }


            })

        } else {
            document.getElementById("nextBtn").innerText = "Next"
            document.getElementById("next").classList.remove("w3-full")
            document.getElementById("next").classList.add("w3-half")
            document.getElementById("prev").style.display = "block"
                // document.getElementById("prev").style.display = "none"
        }

    }


    if (currentStep == 0) {
        document.getElementById("prev").style.display = "none"
            // document.getElementById("prev").style.display = "none"
        document.getElementById("next").classList.remove("w3-half")
        document.getElementById("next").classList.add("w3-full")
    } else if (currentStep == 7) {
        document.getElementById("nextBtn").innerText = "Run"
    } else {
        document.getElementById("nextBtn").innerText = "Next"
        document.getElementById("prev").style.display = "block"
            // document.getElementById("prev").style.display = "none"
        document.getElementById("next").classList.remove("w3-full")
        document.getElementById("next").classList.add("w3-half")
    }
</script>