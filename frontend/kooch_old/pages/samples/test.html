<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

<div class='sign-up'>
    <div class='step-list'>
        <div class='step fin'><i class="fa fa-check" aria-hidden="true"></i></div>
        <div class='step'><i class="fa fa-envelope-o" aria-hidden="true"></i></div>
        <div class='step'><i class="fa fa-key" aria-hidden="true"></i></div>
        <div class='step current'><i class="fa fa-user" aria-hidden="true"></i></div>
    </div>
    <div class='steps'>
        <form>
            <div class='step fi'>
                <h1 class='title'>Sign up Successful</h1>
                <a href='#' class='btn'>Continue To Dashboard</a>
            </div>

            <div class='step'>
                <h1 class='title'>Passwords</h1>
                <div class='field next'>
                    <button>Continue</button>
                </div>
            </div>

            <div class='step'>
                <h1 class='title' style='margin: 0'>Confirm email address</h1>
                <div class='field next'>
                    <button>Continue</button>
                </div>
            </div>

            <div class='step active'>
                <h1 class='title'>Profile Info</h1>
                <div class='field next'>
                    <button>Continue</button>
                </div>
            </div>
        </form>
    </div>
</div>

<style>
    * {
        box-sizing: border-box;
    }
    
    .btn {
        padding: 15px 40px;
        margin: 10px 0;
        background: #8FBC94;
        outline: 0;
        border: none;
        border-radius: 30px;
        color: white;
        transition: 0.15s ease-in-out;
        cursor: pointer;
        display: inline-block;
        text-decoration: none;
    }
    
    .btn:hover {
        background: #9fc6a3;
    }
    
    body {
        background: linear-gradient(45deg, #4FB0C6, #4F86C6);
        font-family: "Nunito", sans-serif;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }
    
    .loader {
        display: flex;
        animation: rotate 1s ease-in-out infinite;
        display: flex;
        align-items: center;
        justify-content: center;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
    }
    
    .loader .dot {
        width: 30px;
        height: 30px;
        background: #8FBC94;
        border-radius: 50%;
    }
    
    .loader .dot.first {
        animation: dot-1 1s ease-in-out infinite;
    }
    
    .loader .dot.second {
        animation: dot-2 1s ease-in-out infinite;
    }
    
    .sign-up {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    
    .sign-up .step-list {
        height: 5px;
        background: rgba(255, 255, 255, 0.35);
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 40px;
    }
    
    .sign-up .step-list .step {
        widtH: 40px;
        height: 40px;
        border-radius: 40px;
        background: white;
        margin-right: 50px;
        position: relative;
        text-align: center;
        line-height: 40px;
        transition: 0.35s ease-in-out;
    }
    
    .sign-up .step-list .step.current {
        box-shadow: 0px 0px 10px 2px rgba(255, 255, 255, 0.75);
    }
    
    .sign-up .step-list .step.fin.current {
        box-shadow: 0px 0px 0px 0px rgba(255, 255, 255, 0);
        background: #8FBC94;
        color: white;
    }
    
    .sign-up .step-list .step.done {
        background: #8FBC94;
        color: white;
    }
    
    .sign-up .step-list .step.done:after {
        width: 50px;
    }
    
    .sign-up .step-list .step:last-child {
        margin-right: 0;
    }
    
    .sign-up .step-list .step:last-child.done:after {
        width: 0px;
    }
    
    .sign-up .step-list .step:last-child:after {
        content: "";
        width: 0px;
        height: 0px;
        display: inherit;
        background: none;
        position: inherit;
        top: inherit;
        right: inherit;
        transform: inherit;
        transition: inherit;
    }
    
    .sign-up .step-list .step:after {
        content: "";
        width: 0px;
        height: 5px;
        display: block;
        background: #8FBC94;
        position: absolute;
        top: 50%;
        right: 0;
        transform: translate(100%, -50%);
        transition: 0.35s ease-in-out;
    }
    
    .sign-up .steps .step {
        width: 300px;
        background: white;
        padding: 20px;
        text-align: center;
        border-radius: 5px;
        display: none;
        position: relative;
    }
    
    .sign-up .steps .step.active {
        display: block;
    }
    
    .sign-up .steps .step .title {
        margin: 0;
        margin-bottom: 20px;
    }
    
    .sign-up .steps .step .field {
        padding: 10px 0;
        text-align: left;
    }
    
    .sign-up .steps .step .field .error-label {
        border: 1px solid #E71D36;
        background: #fdecef;
        border-radius: 5px;
        margin: 10px 0;
        padding: 10px;
    }
    
    .sign-up .steps .step .field .error-label p.error-count {
        margin: 0;
    }
    
    .sign-up .steps .step .field:first-child {
        padding-top: 0;
    }
    
    .sign-up .steps .step .field label,
    .sign-up .steps .step .field input {
        display: block;
        widtH: 100%;
        transition: 0.15s ease-in-out;
    }
    
    .sign-up .steps .step .field input {
        outline: 0;
        padding: 5px 0;
        border: none;
        border-bottom: 1px solid #ddd;
    }
    
    .sign-up .steps .step .field input:focus {
        border-bottom: 1px solid #8FBC94;
    }
    
    .sign-up .steps .step .field.next,
    .sign-up .steps .step .field.fin {
        text-align: center;
    }
    
    .sign-up .steps .step .field.next button,
    .sign-up .steps .step .field.fin button {
        padding: 15px 40px;
        background: #8FBC94;
        outline: 0;
        border: none;
        border-radius: 30px;
        color: white;
        transition: 0.15s ease-in-out;
        cursor: pointer;
    }
    
    .sign-up .steps .step .field.next button:hover,
    .sign-up .steps .step .field.fin button:hover {
        background: #9fc6a3;
    }
    
    .sign-up .steps .step .field.next button:disabled,
    .sign-up .steps .step .field.fin button:disabled {
        background: #ccc;
        color: #999;
        cursor: inherit;
    }
    
    .sign-up .steps .step .field.next button:disabled:hover,
    .sign-up .steps .step .field.fin button:disabled:hover {
        background: #ccc;
    }
    
    @keyframes rotate {
        0% {
            transform: rotate(0deg);
        }
        100% {
            transform: rotate(360deg);
        }
    }
    
    @keyframes dot-1 {
        0% {
            transform: translate(0px, 0) rotate(0deg);
        }
        50% {
            transform: translate(-50px, 0) rotate(180deg);
        }
        100% {
            transform: translate(0px, 0) rotate(360deg);
        }
    }
    
    @keyframes dot-2 {
        0% {
            transform: translate(0px, 0) rotate(0deg);
        }
        50% {
            transform: translate(50px, 0) rotate(180deg);
        }
        100% {
            transform: translate(0px, 0) rotate(360deg);
        }
    }
</style>

<script>
    $(".sign-up").each(function() {
        var signUp = $(this),
            stepList = signUp.find(".step-list"),
            steps = signUp.find(".steps");
        steps.each(function() {
            var step = $(this).find(".step"),
                stepCount = step.length;
            if ($(this).find(".active").length == 0) {
                step.first().addClass("active")
            }

            function nextStep() {
                var activeStepIndex = steps.find(".active").index(),
                    stepCount = steps.find(".step").length,
                    nextStepEq = 0

                var activeStep = steps.find(".active");

                if (activeStepIndex - 1 > stepCount - 1) {
                    nextStepEq = stepCount + 1
                } else {
                    nextStepEq = activeStepIndex - 1
                }

                activeStep.fadeOut(150, function() {
                    stepList.find(".step.current").addClass("done")
                    stepList.find(".step.current").removeClass("current")
                    stepList.find(".step").eq(nextStepEq).addClass("current")
                    steps.find(".step").eq(nextStepEq).hide().fadeIn(150)
                    steps.find(".step").eq(nextStepEq).addClass("active")
                    $(this).removeClass("active")
                });

            }

            step.each(function() {
                var $this = $(this),
                    nextBtn = $this.find(".next").find("button"),
                    fields = $this.find(".field").not(".field.next"),
                    inputPass1 = $(this).find("input[type='password']#pass1"),
                    inputPass2 = $(this).find("input[type='password']#pass2"),
                    firPassVal = inputPass1.val(),
                    secPassVal = inputPass2.val(),
                    nextField = $this.find(".field.next");

                function FieldCorrect() {
                    if ($this.find(".correctF").length >= fields.length) {
                        nextField.find("button").removeAttr("disabled")
                    } else if ($this.find(".correctF").length < fields.length) {
                        nextField.find("button").attr("disabled", "true")
                    }
                }

                fields.each(function() {
                    var inputTexts = $(this).find("input:text"),
                        inputEmails = $(this).find("input[type='email']"),
                        inputPass = $(this).find("input[type='password']"),
                        correctFieldCount = 0,
                        $this = $(this);

                    function CheckFields() {

                        inputTexts.each(function() {
                            var charLength = $(this).length,
                                minlength = $(this).attr("data-minCharLength"),
                                maxlength = $(this).attr("data-maxCharLength"),
                                labelText = $("label[for=" + $(this).attr("id") + "]").text(),
                                minlengthError = '' + labelText + ' must be more than ' + (Number(minlength) - 1) + ' characters',
                                maxlengtherror = '' + labelText + ' must be less than ' + (Number(maxlength) + 1) + ' characters',
                                errorCount = 0,
                                inputted = $(this).val(),
                                correct = 0;

                            if (minlength == undefined) {
                                minlength = 0
                            }

                            if (inputted.length >= minlength) {
                                if (maxlength == undefined) {
                                    $(this).parent(".field").find(".error-label").remove();
                                    correct = 1
                                } else if (inputted.length <= maxlength) {
                                    $(this).parent(".field").find(".error-label").remove();
                                    correct = 1
                                } else if (inputted.length > maxlength) {
                                    correct = 0
                                    if ($(this).parent(".field").find(".error-label").length > 0) {
                                        if ($(this).parent(".field").find(".error-label").find(".max-len-error") == 0) {
                                            $(this).parent(".field").find(".error-label").find(".error-list").append('<li class="max-len-error">' + maxlengtherror + '</li>')
                                        }
                                    } else {
                                        $(this).parent(".field").append('<div class="error-label"><ul class="error-list"><li>' + maxlengtherror + '</li></ul></div>')
                                    }
                                }
                            } else if (inputted.length < minlength) {
                                correct = 0
                                if ($(this).parent(".field").find(".error-label").length > 0) {
                                    if ($(this).parent(".field").find(".error-label").find(".min-len-error") == 0) {
                                        $(this).parent(".field").find(".error-label").find(".error-list").append('<li class="min-len-error">' + minlengthError + '</li>');
                                    }
                                } else {
                                    $(this).parent(".field").append('<div class="error-label"><ul class="error-list"><li>' + minlengthError + '</li></ul></div>')
                                }
                            }

                            if (correct == 1) {
                                $(this).addClass("correct")
                            } else if (correct == 0) {
                                $(this).removeClass("correct")
                            }


                        });

                        inputPass.each(function() {
                            var charLength = $(this).length,
                                minlength = $(this).attr("data-minCharLength"),
                                maxlength = $(this).attr("data-maxCharLength"),
                                labelText = $("label[for=" + $(this).attr("id") + "]").text(),
                                minlengthError = '' + labelText + ' must be more than ' + (Number(minlength) - 1) + ' characters',
                                maxlengtherror = '' + labelText + ' must be less than ' + (Number(maxlength) + 1) + ' characters',
                                errorCount = 0,
                                inputted = $(this).val(),
                                correct = 0;

                            if (minlength == undefined) {
                                minlength = 0
                            }

                            if (maxlength == undefined) {
                                maxlength = 100000000000000000000000000000000000000000000000
                            }

                            if (inputted.length >= minlength && inputPass1.val() === inputPass2.val() && inputted.length <= maxlength) {
                                correct = 1
                            } else {
                                correct = 0
                                if ($(this).parent('.field').find(".error-label").length == 0) {
                                    $(this).parent('.field').append('<div class="error-label"><ul class="error-list"></ul></div>')
                                }
                                if (inputPass1.val() !== inputPass2.val()) {
                                    if ($(inputPass1).parent('.field').find(".error-label").find("li.passError").length == 0) {
                                        $(inputPass1).parent('.field').find(".error-label").find("ul").prepend('<li class="passError">Passwords do not match</li>')
                                    }
                                    if ($(inputPass2).parent('.field').find(".error-label").find("li.passError").length == 0) {
                                        $(inputPass2).parent('.field').find(".error-label").find("ul").prepend('<li class="passError">Passwords do not match</li>')
                                    }
                                } else if (inputPass1.val() === inputPass2.val()) {
                                    $(inputPass1).parent('.field').find(".error-label").find(".passError").remove();
                                    $(inputPass2).parent('.field').find(".error-label").find(".passError").remove();
                                }
                                if (inputted.length < minlength) {
                                    if ($(this).parent('.field').find(".error-label").find("li.minLenError").length == 0) {
                                        $(this).parent('.field').find(".error-label").find("ul").append('<li class="minLenError">' + minlengthError + '</li>')
                                    }
                                } else if (inputted.length >= minlength) {
                                    $(this).parent('.field').find(".error-label").find(".minLenError").remove();
                                }
                            }



                            if (correct == 1) {
                                $(this).addClass("correct")
                            } else if (correct == 0) {
                                $(this).removeClass("correct")
                            }


                        });


                        inputEmails.each(function() {
                            var inputted = $(this).val(),
                                regex = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,
                                correct = 0;

                            if (regex.test(inputted)) {
                                $(this).parent(".field").find(".error-label").remove();
                                correct = 1
                            } else {
                                correct = 0
                                $(this).parent(".field").find(".error-label").remove();
                                $(this).parent(".field").append('<div class="error-label"><ul class="error-list"><li>Invalid Email Address</li></ul></div>')
                            }

                            if (correct == 1) {
                                $(this).addClass("correct")
                            } else if (correct == 0) {
                                $(this).removeClass("correct")
                            }

                        });


                        correctFieldCount = $this.find(".correct").length

                        if ($this.find("input").length <= correctFieldCount) {
                            $this.find(".error-label").remove();
                            $this.addClass("correctF")
                        } else if ($this.find("input").length > correctFieldCount) {
                            $this.removeClass("correctF")
                        }

                    }

                    CheckFields();

                    $(this).on('click change keyup keydown keypress paste mouseover', function() {
                        CheckFields();
                        FieldCorrect();
                    });

                });


                FieldCorrect();

                $(this).on('click change keyup keydown keypress mouseover', function() {
                    FieldCorrect();
                });

                nextField.find("button").on('click', function(e) {
                    e.preventDefault();

                    if ($(this).is(":disabled") == false) {
                        $this.children().each(function() {
                            $(this).animate({
                                "opacity": "0"
                            }, 150)
                            $(this).css({
                                "pointer-events": "none"
                            });
                        });
                        setTimeout(function() {
                            $this.append("<div class='loader'><div class='dot first'></div><div class='dot second'></div></div>")
                        }, 150);
                        setTimeout(function() {
                            nextStep();
                        }, 500);
                    }

                });

            });

        });

    });
</script>